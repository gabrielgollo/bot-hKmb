// ClickerUser
// "clickerUser": {
//     "id": "222618635",
//     "totalCoins": 26660998.866699744,
//     "balanceCoins": 10960496.866700007,
//     "level": 7,
//     "availableTaps": 8500,
//     "lastSyncUpdate": 1719023658,
//     "exchangeId": "binance",
//     "boosts": {
//         "BoostEarnPerTap": {
//             "id": "BoostEarnPerTap",
//             "level": 7,
//             "lastUpgradeAt": 1718645032
//         },
//         "BoostMaxTaps": {
//             "id": "BoostMaxTaps",
//             "level": 9,
//             "lastUpgradeAt": 1719002285
//         },
//         "BoostFullAvailableTaps": {
//             "id": "BoostFullAvailableTaps",
//             "level": 1,
//             "lastUpgradeAt": 1719001431
//         }
//     },
//     "upgrades": {
//         "licence_japan": {
//             "id": "licence_japan",
//             "level": 2,
//             "lastUpgradeAt": 1718719892,
//             "snapshotReferralsCount": 0
//         },
//         "two_factor_authentication": {
//             "id": "two_factor_authentication",
//             "level": 14,
//             "lastUpgradeAt": 1718719912,
//             "snapshotReferralsCount": 0
//         },
//         "anonymous_transactions_ban": {
//             "id": "anonymous_transactions_ban",
//             "level": 9,
//             "lastUpgradeAt": 1718719928,
//             "snapshotReferralsCount": 0
//         },
//         "two_chairs": {
//             "id": "two_chairs",
//             "level": 3,
//             "lastUpgradeAt": 1718720049,
//             "snapshotReferralsCount": 0
//         },
//         "short_squeeze": {
//             "id": "short_squeeze",
//             "level": 0,
//             "lastUpgradeAt": 1718497247,
//             "snapshotReferralsCount": 0
//         },
//         "notcoin_listing": {
//             "id": "notcoin_listing",
//             "level": 0,
//             "lastUpgradeAt": 1718497247,
//             "snapshotReferralsCount": 0
//         },
//         "ceo_21m": {
//             "id": "ceo_21m",
//             "level": 0,
//             "lastUpgradeAt": 1718497247,
//             "snapshotReferralsCount": 0
//         },
//         "premarket_launch": {
//             "id": "premarket_launch",
//             "level": 2,
//             "lastUpgradeAt": 1718835254,
//             "snapshotReferralsCount": 0
//         },
//         "btc_pairs": {
//             "id": "btc_pairs",
//             "level": 9,
//             "lastUpgradeAt": 1718720067
//         },
//         "top_10_cmc_pairs": {
//             "id": "top_10_cmc_pairs",
//             "level": 5,
//             "lastUpgradeAt": 1718720059
//         },
//         "eth_pairs": {
//             "id": "eth_pairs",
//             "level": 9,
//             "lastUpgradeAt": 1718720069
//         },
//         "kyc": {
//             "id": "kyc",
//             "level": 12,
//             "lastUpgradeAt": 1718719884
//         },
//         "kyb": {
//             "id": "kyb",
//             "level": 9,
//             "lastUpgradeAt": 1718539121
//         },
//         "licence_nigeria": {
//             "id": "licence_nigeria",
//             "level": 3,
//             "lastUpgradeAt": 1718719889
//         },
//         "legal_opinion": {
//             "id": "legal_opinion",
//             "level": 8,
//             "lastUpgradeAt": 1718719899
//         },
//         "anti_money_loundering": {
//             "id": "anti_money_loundering",
//             "level": 11,
//             "lastUpgradeAt": 1718591389
//         },
//         "licence_europe": {
//             "id": "licence_europe",
//             "level": 5,
//             "lastUpgradeAt": 1718636076
//         },
//         "licence_south_america": {
//             "id": "licence_south_america",
//             "level": 4,
//             "lastUpgradeAt": 1718650952
//         },
//         "web3_academy_launch": {
//             "id": "web3_academy_launch",
//             "level": 9,
//             "lastUpgradeAt": 1718720037
//         },
//         "shit_coins": {
//             "id": "shit_coins",
//             "level": 7,
//             "lastUpgradeAt": 1718719991
//         },
//         "p2p_trading": {
//             "id": "p2p_trading",
//             "level": 5,
//             "lastUpgradeAt": 1718720083
//         },
//         "fan_tokens": {
//             "id": "fan_tokens",
//             "level": 8,
//             "lastUpgradeAt": 1718719952
//         },
//         "staking": {
//             "id": "staking",
//             "level": 11,
//             "lastUpgradeAt": 1718999503
//         },
//         "hamster_drop": {
//             "id": "hamster_drop",
//             "level": 5,
//             "lastUpgradeAt": 1718719870
//         },
//         "hamster_youtube_channel": {
//             "id": "hamster_youtube_channel",
//             "level": 6,
//             "lastUpgradeAt": 1718720042
//         },
//         "bitcoin_pizza_day": {
//             "id": "bitcoin_pizza_day",
//             "level": 4,
//             "lastUpgradeAt": 1718720039
//         },
//         "sec_transparancy": {
//             "id": "sec_transparancy",
//             "level": 10,
//             "lastUpgradeAt": 1718636130
//         },
//         "margin_trading_x10": {
//             "id": "margin_trading_x10",
//             "level": 9,
//             "lastUpgradeAt": 1718719993
//         },
//         "margin_trading_x20": {
//             "id": "margin_trading_x20",
//             "level": 9,
//             "lastUpgradeAt": 1718589510
//         },
//         "derivatives": {
//             "id": "derivatives",
//             "level": 3,
//             "lastUpgradeAt": 1718720079
//         },
//         "prediction_markets": {
//             "id": "prediction_markets",
//             "level": 2,
//             "lastUpgradeAt": 1718720005
//         },
//         "margin_trading_x30": {
//             "id": "margin_trading_x30",
//             "level": 9,
//             "lastUpgradeAt": 1718719995
//         },
//         "margin_trading_x50": {
//             "id": "margin_trading_x50",
//             "level": 15,
//             "lastUpgradeAt": 1718634032
//         },
//         "x": {
//             "id": "x",
//             "level": 5,
//             "lastUpgradeAt": 1718590868
//         },
//         "facebook_ads": {
//             "id": "facebook_ads",
//             "level": 8,
//             "lastUpgradeAt": 1718637682
//         },
//         "youtube": {
//             "id": "youtube",
//             "level": 9,
//             "lastUpgradeAt": 1718719942
//         },
//         "influencers": {
//             "id": "influencers",
//             "level": 11,
//             "lastUpgradeAt": 1718650926
//         },
//         "ceo": {
//             "id": "ceo",
//             "level": 10,
//             "lastUpgradeAt": 1718591239
//         },
//         "it_team": {
//             "id": "it_team",
//             "level": 10,
//             "lastUpgradeAt": 1718626570
//         },
//         "marketing": {
//             "id": "marketing",
//             "level": 4,
//             "lastUpgradeAt": 1718835297
//         },
//         "bisdev_team": {
//             "id": "bisdev_team",
//             "level": 5,
//             "lastUpgradeAt": 1718719910
//         },
//         "security_team": {
//             "id": "security_team",
//             "level": 2,
//             "lastUpgradeAt": 1718719918
//         },
//         "qa_team": {
//             "id": "qa_team",
//             "level": 6,
//             "lastUpgradeAt": 1718719920
//         },
//         "ux_ui_team": {
//             "id": "ux_ui_team",
//             "level": 2,
//             "lastUpgradeAt": 1718719915
//         },
//         "gamefi_tokens": {
//             "id": "gamefi_tokens",
//             "level": 12,
//             "lastUpgradeAt": 1718591147
//         },
//         "socialfi_tokens": {
//             "id": "socialfi_tokens",
//             "level": 2,
//             "lastUpgradeAt": 1718719986
//         },
//         "instagram": {
//             "id": "instagram",
//             "level": 3,
//             "lastUpgradeAt": 1718591199
//         },
//         "medium": {
//             "id": "medium",
//             "level": 10,
//             "lastUpgradeAt": 1718591225
//         },
//         "tiktok": {
//             "id": "tiktok",
//             "level": 2,
//             "lastUpgradeAt": 1718591208
//         },
//         "reddit": {
//             "id": "reddit",
//             "level": 5,
//             "lastUpgradeAt": 1718727256
//         },
//         "product_team": {
//             "id": "product_team",
//             "level": 4,
//             "lastUpgradeAt": 1718719908
//         },
//         "partnership_program": {
//             "id": "partnership_program",
//             "level": 6,
//             "lastUpgradeAt": 1718719906
//         },
//         "antihacking_shield": {
//             "id": "antihacking_shield",
//             "level": 4,
//             "lastUpgradeAt": 1718719922
//         },
//         "risk_management_team": {
//             "id": "risk_management_team",
//             "level": 4,
//             "lastUpgradeAt": 1718719924
//         },
//         "security_audition": {
//             "id": "security_audition",
//             "level": 4,
//             "lastUpgradeAt": 1718719926
//         },
//         "blocking_suspicious_accounts": {
//             "id": "blocking_suspicious_accounts",
//             "level": 4,
//             "lastUpgradeAt": 1718719929
//         },
//         "consensys_explorer_pass": {
//             "id": "consensys_explorer_pass",
//             "level": 2,
//             "lastUpgradeAt": 1718719933
//         },
//         "web3_integration": {
//             "id": "web3_integration",
//             "level": 5,
//             "lastUpgradeAt": 1718720003
//         },
//         "trading_bots": {
//             "id": "trading_bots",
//             "level": 4,
//             "lastUpgradeAt": 1718835306
//         },
//         "meme_coins": {
//             "id": "meme_coins",
//             "level": 2,
//             "lastUpgradeAt": 1718719988
//         },
//         "defi2.0_tokens": {
//             "id": "defi2.0_tokens",
//             "level": 2,
//             "lastUpgradeAt": 1718719984
//         },
//         "top10_global": {
//             "id": "top10_global",
//             "level": 6,
//             "lastUpgradeAt": 1718720044
//         },
//         "lambo_for_ceo": {
//             "id": "lambo_for_ceo",
//             "level": 1,
//             "lastUpgradeAt": 1718633969
//         },
//         "licence_north_america": {
//             "id": "licence_north_america",
//             "level": 2,
//             "lastUpgradeAt": 1718720022
//         },
//         "licence_ethiopia": {
//             "id": "licence_ethiopia",
//             "level": 2,
//             "lastUpgradeAt": 1718719894
//         },
//         "vc_labs": {
//             "id": "vc_labs",
//             "level": 2,
//             "lastUpgradeAt": 1718719935
//         },
//         "licence_uae": {
//             "id": "licence_uae",
//             "level": 13,
//             "lastUpgradeAt": 1718709599
//         },
//         "licence_asia": {
//             "id": "licence_asia",
//             "level": 1,
//             "lastUpgradeAt": 1718637573
//         },
//         "licence_australia": {
//             "id": "licence_australia",
//             "level": 1,
//             "lastUpgradeAt": 1718637577
//         },
//         "consensys_piranja_pass": {
//             "id": "consensys_piranja_pass",
//             "level": 3,
//             "lastUpgradeAt": 1718643857
//         },
//         "special_hamster_conference": {
//             "id": "special_hamster_conference",
//             "level": 8,
//             "lastUpgradeAt": 1718835286
//         },
//         "hamster_youtube_gold_button": {
//             "id": "hamster_youtube_gold_button",
//             "level": 7,
//             "lastUpgradeAt": 1718999494
//         },
//         "bogdanoff": {
//             "id": "bogdanoff",
//             "level": 10,
//             "lastUpgradeAt": 1718720054
//         },
//         "apps_center_listing": {
//             "id": "apps_center_listing",
//             "level": 5,
//             "lastUpgradeAt": 1718720051
//         },
//         "support_team": {
//             "id": "support_team",
//             "level": 7,
//             "lastUpgradeAt": 1718647958
//         },
//         "tokenomics_expert": {
//             "id": "tokenomics_expert",
//             "level": 2,
//             "lastUpgradeAt": 1718719931
//         },
//         "compliance_officer": {
//             "id": "compliance_officer",
//             "level": 2,
//             "lastUpgradeAt": 1718719937
//         }
//     },
//     "tasks": {
//         "streak_days": {
//             "id": "streak_days",
//             "completedAt": "2024-06-21T19:53:33.259Z",
//             "days": 1
//         },
//         "hamster_youtube_academy_s1e3": {
//             "id": "hamster_youtube_academy_s1e3",
//             "completedAt": "2024-06-16T11:57:22.477Z"
//         },
//         "hamster_youtube_easy_start_s1e3": {
//             "id": "hamster_youtube_easy_start_s1e3",
//             "completedAt": "2024-06-16T11:57:29.736Z"
//         },
//         "select_exchange": {
//             "id": "select_exchange",
//             "completedAt": "2024-06-16T12:11:48.268Z"
//         },
//         "subscribe_telegram_channel": {
//             "id": "subscribe_telegram_channel",
//             "completedAt": "2024-06-17T02:18:39.418Z"
//         },
//         "hamster_youtube_academy_s1e6": {
//             "id": "hamster_youtube_academy_s1e6",
//             "completedAt": "2024-06-21T20:43:04.826Z"
//         },
//         "subscribe_x_account": {
//             "id": "subscribe_x_account",
//             "completedAt": "2024-06-21T20:43:20.070Z"
//         }
//     },
//     "airdropTasks": {
//         "airdrop_connect_ton_wallet": {
//             "id": "airdrop_connect_ton_wallet",
//             "walletAddress": "UQC12kN3b8CjOtSRq79OlREXAJnFI_-2qKNFbqZ_cCCa5cZL",
//             "completedAt": "2024-06-16T00:30:31.789Z"
//         }
//     },
//     "referralsCount": 2,
//     "maxTaps": 8500,
//     "earnPerTap": 14,
//     "earnPassivePerSec": 63.3269,
//     "earnPassivePerHour": 227977,
//     "lastPassiveEarn": 683930.52,
//     "tapsRecoverPerSec": 3,
//     "createdAt": "2024-06-16T00:20:44.634Z",
//     "referral": {
//         "friend": {
//             "id": 703048538,
//             "isBot": false,
//             "firstName": "Luan",
//             "lastName": "Filipe",
//             "username": "luanfi",
//             "languageCode": "pt-br",
//             "isPremium": true,
//             "welcomeBonusCoins": 5000
//         }
//     },
//     "balanceTickets": 0,
//     "claimedUpgradeComboAt": "2024-06-19T22:15:08.883Z",
//     "claimedCipherAt": "2024-06-21T20:08:30.892Z"
// }

class MyUpgrade {
  /**
   * @param {Object} data - The data for the upgrade.
   * @param {string} data.id - The ID of the upgrade.
   * @param {number} data.level - The level of the upgrade.
   * @param {number} data.lastUpgradeAt - The timestamp of the last upgrade.
   * @param {number} [data.snapshotReferralsCount] - The snapshot referrals count.
   */
  constructor(data) {
    this.id = data.id;
    this.level = data.level;
    this.lastUpgradeAt = data.lastUpgradeAt;
    this.snapshotReferralsCount = data.snapshotReferralsCount || null;
  }
}

/**
 * Class representing a collection of upgrades.
 */
class MyUpgrades {
  /**
   * @param {Object} data - The data for all upgrades.
   */
  constructor(data) {
    this.upgrades = {};

    for (const key in data) {
      if (Object.prototype.hasOwnProperty.call(data, key)) {
        this.upgrades[key] = new MyUpgrade(data[key]);
      }
    }
  }

  /**
   * Get an upgrade by its ID.
   * @param {string} id - The ID of the upgrade.
   * @returns {Upgrade} The upgrade with the given ID.
   */
  getUpgradeById(id) {
    return this.upgrades[id];
  }
}

class ClickerUser {
  constructor(user) {
    this.id = user.id;
    this.totalCoins = user.totalCoins;
    this.balanceCoins = user.balanceCoins;
    this.level = user.level;
    this.availableTaps = user.availableTaps;
    this.lastSyncUpdate = user.lastSyncUpdate;
    this.exchangeId = user.exchangeId;
    this.boosts = user.boosts;
    this.upgrades = new MyUpgrades(user.upgrades);
    this.tasks = user.tasks;
    this.airdropTasks = user.airdropTasks;
    this.referralsCount = user.referralsCount;
    this.maxTaps = user.maxTaps;
    this.earnPerTap = user.earnPerTap;
    this.earnPassivePerSec = user.earnPassivePerSec;
    this.earnPassivePerHour = user.earnPassivePerHour;
    this.lastPassiveEarn = user.lastPassiveEarn;
    this.tapsRecoverPerSec = user.tapsRecoverPerSec;
    this.createdAt = user.createdAt;
    this.referral = user.referral;
    this.balanceTickets = user.balanceTickets;
    this.claimedUpgradeComboAt = user.claimedUpgradeComboAt;
    this.claimedCipherAt = user.claimedCipherAt;
  }
}

module.exports = { ClickerUser };
